# Two Envelopes Problem

## 2つの封筒問題

数学の有名なパラドックスに「2つの封筒問題」というものがあるのは、ご存知でしょうか。

今、あなたの目の前に、2つの封筒が置かれています。
この 2つの封筒には、それぞれお金が入っているのですが、一方の封筒には、もう一方の封筒の 2倍の金額が入っているんです。

例えば、一方に 1万円、もう一方に 2万円といった具合ですね。
ただし、どちらにより多くのお金が入っているかは、あなたには分かりません。
さて、ここで質問です。あなたは 1つの封筒を選んで、中身を確認することができます。

仮に、選んだ封筒に 1万円入っていたとしましょう。
この時、もう一方の封筒と交換することができるとしたら、あなたはどうしますか？
一見すると簡単そうに思えるこの問題ですが、実は多くの数学者たちを悩ませてきた興味深いパラドックスなんです。

それでは、一緒にこの問題の核心に迫ってみましょう。

## パラドックスに触れる

多くの人は、こう考えるのではないでしょうか。
「もう一方の封筒には、50%の確率で 2万円、50%の確率で5千円が入っている」
そうすると、期待値は...

（2万円 × 50%）+（5千円 × 50%）= 1万 2千5百円

あれ？今持っている 1万円より大きいですね。
ということは、交換した方がお得ということになります。

では、別の例も考えてみましょう。
もし最初の封筒に 3万円入っていたとしたら？
「もう一方の封筒には、50%の確率で 6万円、50%の確率で 1万5千円が入っている」

期待値は...
（6万円 × 50%）+（1万5千円 × 50%）= 3万7千5百円
3万円より大きいので、やはり交換した方が良さそうです。

実際、一般的に考えてみましょう。最初の封筒に X 円入っていたとすると、もう一方の封筒には 50%の確率で 2X 円、50%の確率で X/2円が入っています。

期待値は...

（2X × 50%）+（X/2× 50%）= X + X/4 = 1.25X

これは必ず X 円より大きくなります。
つまり、どんな金額が入っていても、常に交換した方が得だということになってしまいます。
直感的におかしいと思った人もいるのではないでしょうか？
何がおかしいかわからない方も安心してください。
まずはどの点がパラドックスなのかを整理しましょう。

## パラドックスの分析

画面には封筒AとBが用意されています。一方の封筒には、もう一方の 2倍の金額が入っています。
今回は、封筒の中身を封筒Aに X 円、封筒Bに Y 円入っていると仮定します。

まずは封筒Aを中心に考えます。
封筒Aの中身が X 円ということは、封筒Bには 50%の確率で 2X 円、50%の確率で 0.5X 円が入っているはずです。
封筒Bの期待値は...

（2X × 50%）+（0.5X × 50%）= 1.25X 円

これは封筒Aより封筒Bのほうが期待値が高いということですね！
今度は封筒Bを中心に考えます。封筒Bの中身が Y 円ということは、封筒Aには 50%の確率で 2Y 円、50%の確率で 0.5Y 円が入っているはずです。

封筒Aの期待値は...

（2Y × 50%）+（0.5Y × 50%）= 1.25Y 円

この場合は、封筒Bより封筒Aのほうが期待値が高いということになります。
でも、ちょっと待ってください。
期待値というのは、何度もその試行を繰り返すことで、平均がその値に近づいていく値ですから、「封筒Aより封筒Bのほうが期待値が高い」と「封筒Bより封筒Aのほうが期待値が高い」というのは同時に成り立ちません。
でも、私たちの計算では、どちらの封筒を基準にしても「もう一方の封筒の方が期待値が高い」という結論になってしまいました。

これが、2つの封筒問題の矛盾の正体なんですね。
